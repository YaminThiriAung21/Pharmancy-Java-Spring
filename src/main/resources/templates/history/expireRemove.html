<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	layout:decorator="common/admin_layout">
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<!-- 
<link rel="stylesheet" type="text/css" th:href="@{https://cdn.datatables.net/1.10.21/css/jquery.dataTables.css}"> 
<script type="text/javascript" charset="utf8" th:src="@{https://cdn.datatables.net/1.10.21/js/jquery.dataTables.js}"></script>
<script th:src="@{https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js}"></script>
<script th:src="@{js/myapp.js}"></script> -->
</head>
<body>
	<div layout:fragment="content">
		<div class="section__content section__content--p30">
			<div class="container-fluid">

				<div th:replace="history/daterange :: dateRange"></div>
				<div class="main-content">
					<div class="section__content section__content--p30">
						<div class="col-lg-12">
							<h3 class="title-3 m-b-30">
								<i class=""></i>Expired Items List
							</h3>
							<div class="row m-t-30">
								<div class="col-md-12">
									<form action="#"
										data-th-action="@{${T(pec.datacode.AdminPageInfo).EXPIRE_EDIT.url}}"
										data-th-object="${SUPPLIER_DETAIL_ORDER_INFO_ID}"
										method="post">
										<div class="table-resRponsive m-b-40">
											<table id="stockCountTable"
												class="table table-striped display" style="width: 50%">
												<thead>
													<tr>
														<th class="center"><input type="checkbox"
															style="margin-left: 6px;" onclick="toggle(this)" /></th>
														<th>Product Code</th>
														<th>Product Image</th>
														<th>Product Name</th>
														<th>Expire Date</th>
														<th>Update User</th>
														<th>Update Date</th>
													</tr>
												</thead>
												<tbody>
													<tr th:each="dto, ind: ${expireList}">
														<td><input type="checkbox" th:name="case" class="chk"
															th:field="*{SUPPLIER_DETAIL_ORDER_INFO_ID}"
															th:value="${dto.SUPPLIER_DETAIL_ORDER_INFO_ID}">
														</td>
														<td th:text="${dto.product_code}"></td>
														<td><img
															th:src="@{${'/images/product_image/'+dto.product_image_name}}"
															alt="Product_image" width="300" height="300" /></td>
														<td th:text="${dto.product_name}"></td>
														<td th:text="${dto.expire_date}"></td>
														<td th:text="${dto.update_user}"></td>
														<td th:text="${dto.update_date}"></td>
													</tr>
												</tbody>
											</table>
										</div>
										<div class="col-sm-offset-3 col-md-9">
											<button type="submit" name="action" value="expire"
												class="btn btn-primary">Expire</button>
											<button type="submit" name="action" value="remove"
												class="btn btn-primary" id="remove">Remove</button>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>


		<!-- END MAIN CONTENT-->
		<script type="text/javascript">

	$(document).ready(function() {
		/ Get the checkboxes values based on the class attached to each check box /
		$("#remove").click(function() {
			var buttonSubmit = getDeleteValueUsingClass();
			return buttonSubmit;
		});

	});
	function getDeleteValueUsingClass() {
		/ declare an checkbox array /
		var chkArray = [];
		/ look for all checkboes that have a class 'chk' attached to it and check if it was checked /
		$(".chk:checked").each(function() {
			chkArray.push(1);
		});

		/* check if there is selected checkboxes*/
		if (chkArray.length == 0) {
			alert("Please check one of the checkbox");
			return false;
		}

		let deletsure = confirm("Are you sure to delete!");
		return deletsure;
	}
	function toggle(source) {
		checkboxes = document.getElementsByName('case');
		for (var i = 0, n = checkboxes.length; i < n; i++) {
			checkboxes[i].checked = source.checked;
		}
	}
	</script>
</body>
</html>